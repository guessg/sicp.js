# 2.6

```js
> function add_1(n) {
... return f => x => f(n(f)(x));
... }
undefined
> const one = f => x => f(x);
undefined
> const two = f => x => f(f(x));
undefined
> 
> function plus(n, m) {
...     return f => x => n(f)(m(f)(x));
... }
undefined
> 
> // testing
undefined
> 
> const three = plus(one, two);
undefined
> 
> function church_to_number(c) {
...     return c(n => n + 1)(0);
... }
undefined
> church_to_number(three);
3

```

## 展开过程描述(generated by ChatGPT)

To determine the output of `church_to_number(three)`, we need to follow the steps of the Church encoding and function application. Let's expand `church_to_number(three)` step-by-step and calculate the final result.

Here are the definitions given in the question:

```javascript
const one = f => x => f(x);
const two = f => x => f(f(x));

function plus(n, m) {
    return f => x => n(f)(m(f)(x));
}

// testing

const three = plus(one, two);

function church_to_number(c) {
    return c(n => n + 1)(0);
}
church_to_number(three);
```

### Step 1: Define `plus`

The function `plus` is defined as:

```javascript
function plus(n, m) {
    return f => x => n(f)(m(f)(x));
}
```

This function takes two Church numerals `n` and `m` and returns their sum as a Church numeral.

### Step 2: Compute `three`

We compute `three` as `plus(one, two)`:

```javascript
const three = plus(one, two);
```

Expanding this:

```javascript
const three = f => x => one(f)(two(f)(x));
```

### Step 3: Expand `one(f)`

Recall that `one` is:

```javascript
const one = f => x => f(x);
```

Thus, applying `one(f)`:

```javascript
one(f) = f => x => f(x);
```

### Step 4: Apply `one(f)` to `two(f)(x)`

Now, we need to substitute `one(f)` in the definition of `three`:

```javascript
three = f => x => (f => x => f(x))(f)(two(f)(x));
```

This simplifies to:

```javascript
three = f => x => f(two(f)(x));
```

### Step 5: Expand `two(f)`

Recall that `two` is:

```javascript
const two = f => x => f(f(x));
```

### Step 6: Apply `two(f)(x)`

Now, we need to substitute `two(f)` in the definition of `three`:

```javascript
three = f => x => f((f => x => f(f(x)))(f)(x));
```

This simplifies to:

```javascript
three = f => x => f(f(f(x)));
```

So, the Church numeral `three` is:

```javascript
const three = f => x => f(f(f(x)));
```

### Step 7: Convert `three` to a number

Now, we apply `church_to_number` to `three`:

```javascript
function church_to_number(c) {
    return c(n => n + 1)(0);
}
church_to_number(three);
```

Expanding this:

```javascript
church_to_number(three) = (f => x => f(f(f(x))))(n => n + 1)(0);
```

### Step 8: Apply the function

We need to apply the function step-by-step:

1. Apply `f` to `x`, where `f` is `(n => n + 1)` and `x` is `0`:

   ```javascript
   (n => n + 1)(0) => 0 + 1 => 1
   ```
2. Apply `f` again to the result:

   ```javascript
   (n => n + 1)(1) => 1 + 1 => 2
   ```
3. Apply `f` once more to the result:

   ```javascript
   (n => n + 1)(2) => 2 + 1 => 3
   ```

### Final Output

Therefore, the output of `church_to_number(three)` is `3`.
